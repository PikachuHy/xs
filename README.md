# 形声-Sirius

形声 以形作声

## 项目简介

形声是一款基于深度学习技术通过动作识别为舞蹈视频自动添加匹配的背景音乐的人工智能app。它能够通过对输入的舞蹈视频进行分析，通过对人物舞蹈姿态的检测，结合相应的背景音乐进行学习。在训练结束后，可以通过用户上传的任意舞蹈动作生成独一无二的背景音乐，对视频进行合成，并呈现给用户，以使得用户轻松地把一段枯燥的视频变得有声有色。

## 项目目录结构

```
xs
├── client
├── midi
└── xsnet
```
说明
1. xs为项目主目录，该目录下存放client,xsnet,midi共3个文件夹和其他常用的数据处理脚本
2. client为安卓源码目录
3. xsnet为自己编写的深度学习部分代码

项目主目录下文件用途说明

| 文件名                              | 用途               |
| -------------------------------- | ---------------- |
| convert_to_dataset.py            | 将节点信息转换为数据集，不带标签 |
| convert_to_dataset_with_label.py | 将节点信息转换为数据集，带标签  |
| extract_all.py                   | 从视频中提取帧          |
| extract_pose.py                  | 从帧中提取节点信息        |

xsnet目录下主要文件用途说明

| 文件名         | 用途           |
| ----------- | ------------ |
| datasets.py | 为深度学习训练提供数据集 |
| model.py    | 为深度学习提供模型    |
| train.py    | 为深度学习提供训练代码  |
| server.py   | 对外提供web服务的代码 |

midi目录下主要文件用途说明

| 文件名                   | 用途                                       |
| --------------------- | ---------------------------------------- |
| MidiFileAnalysis.py   | 将midi文本文件解析成二维数组，每行代表一个记录，包括音调，发声位置，关闭位置，发声音量，关闭音量。使用音符组合序列生成midi文本文件。 |
| DataBaseInit.py       | 将包含midi信息的二维数组中的音符组合提取到database.txt中，并标记，把midi二维数组转化为标签序列。依据database.txt将音符组合标签序列转化为音符组合序列。 |
| DriveMidConversion.py | 提供从midi文件中提取音符组合标签序列的方法，提供将音符组合标签序列反向生成midi文本文件的接口。提供将midi音乐文件转化为midi文本文件的接口。 |
| midi.config           | 记录midi音乐的标识                              |
| database.txt          | 记录音符组合的标签                                |

补充说明，在该目录下还有两个子目录，它们的作用分别是：　


| 文件夹     | 用途           |
| ------- | ------------ |
| midiSrc | 用于存储midi音乐文件 |
| midiTxt | 用于存储midi文本文件 |

